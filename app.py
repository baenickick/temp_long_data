# app.py
import streamlit as st
import pandas as pd
import numpy as np
from io import BytesIO
from datetime import datetime
import io

st.set_page_config(page_title="생활인구 CSV 병합 (지역 선택)", layout="wide")
st.title("생활인구 CSV 병합 웹앱 (지역 선택 필터)")

# 전체 서울 지역 매핑 데이터
region_data = """통계청행정동코드	시도명	시군구명	행정동명
1101053	서울	종로구	사직동
1101054	서울	종로구	삼청동
1101055	서울	종로구	부암동
1101056	서울	종로구	평창동
1101057	서울	종로구	무악동
1101058	서울	종로구	교남동
1101060	서울	종로구	가회동
1101061	서울	종로구	종로1.2.3.4가동
1101063	서울	종로구	종로5.6가동
1101064	서울	종로구	이화동
1101067	서울	종로구	창신1동
1101068	서울	종로구	창신2동
1101069	서울	종로구	창신3동
1101070	서울	종로구	숭인1동
1101071	서울	종로구	숭인2동
1101072	서울	종로구	청운효자동
1101073	서울	종로구	혜화동
1102052	서울	중구	소공동
1102054	서울	중구	회현동
1102055	서울	중구	명동
1102057	서울	중구	필동
1102058	서울	중구	장충동
1102059	서울	중구	광희동
1102060	서울	중구	을지로동
1102065	서울	중구	신당5동
1102067	서울	중구	황학동
1102068	서울	중구	중림동
1102069	서울	중구	신당동
1102070	서울	중구	다산동
1102071	서울	중구	약수동
1102072	서울	중구	청구동
1102073	서울	중구	동화동
1103051	서울	용산구	후암동
1103052	서울	용산구	용산2가동
1103053	서울	용산구	남영동
1103057	서울	용산구	원효로2동
1103058	서울	용산구	효창동
1103059	서울	용산구	용문동
1103063	서울	용산구	이촌1동
1103064	서울	용산구	이촌2동
1103065	서울	용산구	이태원1동
1103066	서울	용산구	이태원2동
1103069	서울	용산구	서빙고동
1103070	서울	용산구	보광동
1103071	서울	용산구	청파동
1103072	서울	용산구	원효로1동
1103073	서울	용산구	한강로동
1103074	서울	용산구	한남동
1104052	서울	성동구	왕십리2동
1104054	서울	성동구	마장동
1104055	서울	성동구	사근동
1104056	서울	성동구	행당1동
1104057	서울	성동구	행당2동
1104058	서울	성동구	응봉동
1104059	서울	성동구	금호1가동
1104062	서울	성동구	금호4가동
1104065	서울	성동구	성수1가1동
1104066	서울	성동구	성수1가2동
1104067	서울	성동구	성수2가1동
1104068	서울	성동구	성수2가3동
1104069	서울	성동구	송정동
1104070	서울	성동구	용답동
1104071	서울	성동구	왕십리도선동
1104072	서울	성동구	금호2.3가동
1104073	서울	성동구	옥수동
1105053	서울	광진구	화양동
1105054	서울	광진구	군자동
1105055	서울	광진구	중곡1동
1105056	서울	광진구	중곡2동
1105057	서울	광진구	중곡3동
1105058	서울	광진구	중곡4동
1105059	서울	광진구	능동
1105060	서울	광진구	구의1동
1105061	서울	광진구	구의2동
1105062	서울	광진구	구의3동
1105063	서울	광진구	광장동
1105064	서울	광진구	자양1동
1105065	서울	광진구	자양2동
1105066	서울	광진구	자양3동
1105067	서울	광진구	자양4동
1106071	서울	동대문구	회기동
1106072	서울	동대문구	휘경1동
1106073	서울	동대문구	휘경2동
1106080	서울	동대문구	청량리동
1106081	서울	동대문구	용신동
1106082	서울	동대문구	제기동
1106083	서울	동대문구	전농1동
1106084	서울	동대문구	전농2동
1106086	서울	동대문구	답십리2동
1106087	서울	동대문구	장안1동
1106088	서울	동대문구	장안2동
1106089	서울	동대문구	이문1동
1106090	서울	동대문구	이문2동
1106091	서울	동대문구	답십리1동
1107052	서울	중랑구	면목2동
1107054	서울	중랑구	면목4동
1107055	서울	중랑구	면목5동
1107057	서울	중랑구	면목7동
1107059	서울	중랑구	상봉1동
1107060	서울	중랑구	상봉2동
1107061	서울	중랑구	중화1동
1107062	서울	중랑구	중화2동
1107064	서울	중랑구	묵1동
1107065	서울	중랑구	묵2동
1107068	서울	중랑구	망우3동
1107069	서울	중랑구	신내1동
1107070	서울	중랑구	신내2동
1107071	서울	중랑구	면목본동
1107072	서울	중랑구	면목3.8동
1107073	서울	중랑구	망우본동
1108058	서울	성북구	돈암1동
1108059	서울	성북구	돈암2동
1108060	서울	성북구	안암동
1108061	서울	성북구	보문동
1108062	서울	성북구	정릉1동
1108063	서울	성북구	정릉2동
1108064	서울	성북구	정릉3동
1108065	서울	성북구	정릉4동
1108066	서울	성북구	길음1동
1108068	서울	성북구	길음2동
1108071	서울	성북구	월곡1동
1108072	서울	성북구	월곡2동
1108076	서울	성북구	장위1동
1108077	서울	성북구	장위2동
1108078	서울	성북구	장위3동
1108081	서울	성북구	성북동
1108082	서울	성북구	삼선동
1108083	서울	성북구	동선동
1108084	서울	성북구	종암동
1108085	서울	성북구	석관동
1109060	서울	강북구	번1동
1109061	서울	강북구	번2동
1109062	서울	강북구	번3동
1109063	서울	강북구	수유1동
1109064	서울	강북구	수유2동
1109065	서울	강북구	수유3동
1109069	서울	강북구	삼양동
1109070	서울	강북구	미아동
1109071	서울	강북구	송중동
1109072	서울	강북구	송천동
1109073	서울	강북구	삼각산동
1109074	서울	강북구	우이동
1109075	서울	강북구	인수동
1110051	서울	도봉구	쌍문1동
1110052	서울	도봉구	쌍문2동
1110053	서울	도봉구	쌍문3동
1110054	서울	도봉구	쌍문4동
1110055	서울	도봉구	방학1동
1110056	서울	도봉구	방학2동
1110057	서울	도봉구	방학3동
1110059	서울	도봉구	창1동
1110060	서울	도봉구	창2동
1110061	서울	도봉구	창3동
1110062	서울	도봉구	창4동
1110063	서울	도봉구	창5동
1110064	서울	도봉구	도봉1동
1110065	서울	도봉구	도봉2동
1111051	서울	노원구	월계1동
1111052	서울	노원구	월계2동
1111053	서울	노원구	월계3동
1111056	서울	노원구	공릉2동
1111058	서울	노원구	하계1동
1111059	서울	노원구	하계2동
1111060	서울	노원구	중계본동
1111061	서울	노원구	중계1동
1111064	서울	노원구	중계4동
1111065	서울	노원구	상계1동
1111066	서울	노원구	상계2동
1111069	서울	노원구	상계5동
1111072	서울	노원구	상계8동
1111073	서울	노원구	상계9동
1111074	서울	노원구	상계10동
1111076	서울	노원구	상계3.4동
1111077	서울	노원구	상계6.7동
1111078	서울	노원구	중계2.3동
1111079	서울	노원구	공릉1동
1112051	서울	은평구	녹번동
1112052	서울	은평구	불광1동
1112055	서울	은평구	갈현1동
1112056	서울	은평구	갈현2동
1112057	서울	은평구	구산동
1112058	서울	은평구	대조동
1112059	서울	은평구	응암1동
1112060	서울	은평구	응암2동
1112065	서울	은평구	신사1동
1112066	서울	은평구	신사2동
1112067	서울	은평구	증산동
1112068	서울	은평구	수색동
1112071	서울	은평구	진관동
1112072	서울	은평구	불광2동
1112073	서울	은평구	응암3동
1112074	서울	은평구	역촌동
1113052	서울	서대문구	천연동
1113062	서울	서대문구	홍제1동
1113064	서울	서대문구	홍제3동
1113065	서울	서대문구	홍제2동
1113066	서울	서대문구	홍은1동
1113068	서울	서대문구	홍은2동
1113069	서울	서대문구	남가좌1동
1113070	서울	서대문구	남가좌2동
1113071	서울	서대문구	북가좌1동
1113072	서울	서대문구	북가좌2동
1113073	서울	서대문구	충현동
1113074	서울	서대문구	북아현동
1113075	서울	서대문구	신촌동
1113076	서울	서대문구	연희동
1114059	서울	마포구	용강동
1114060	서울	마포구	대흥동
1114061	서울	마포구	염리동
1114063	서울	마포구	신수동
1114066	서울	마포구	서교동
1114068	서울	마포구	합정동
1114069	서울	마포구	망원1동
1114070	서울	마포구	망원2동
1114071	서울	마포구	연남동
111407
